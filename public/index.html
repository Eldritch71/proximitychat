<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Proximity Chat | Login</title>
        <link rel="stylesheet" type="text/css" href="./public/Main.css">
    </head>

    <body>
        <div class="buffer"></div>
        <div class="side"></div>
        <div class="title">
            <h1>Proximity Chat</h1>
            <h2>Talk to Those Closest to You</h2>
            <form action="" class="nickname" id="f">
                <input id="n" autocomplete="off" placeholder="Enter a Nickname" /><button onclick="testGeo()">Enter</button>
            </form>
        </div>
        <div class="side"></div>


        <script src="/socket.io/socket.io.js"></script>
        <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
        <script>

            var enterButton;

            window.onload = start;

            function start(){
                enterButton = document.getElementById("f");
                alert("Proximity Chat requires that your browser supports geolocation services.  Make sure that geolocation is enabled on your browser before continuing.");
            }

            function testGeo(){
                if(navigator.geolocation){
                    alert("browser supports geolocation");
            
                    /*confirm that geolocation is enabled by user.  If not, throw error*/
                    /*navigator.geolocation.getCurrentPosition(enterChat, showError);*/
                /*send alert if geolocation not supported by browser*/
                } else {
                    alert("Geolocation is not supported by this broswer");
                }

                return false;
            }

            function enterChat(position) {
                alert("Geolocation Enabled");
            }

            function showError(error) {
                alert("there was an error");
                switch(error.code) {
                    case error.PERMISSION_DENIED:
                        alert("User denied the request for Geolocation.");
                        break;
                    case error.POSITION_UNAVAILABLE:
                        alert("Location information is unavailable.");
                        break;
                    case error.TIMEOUT:
                        alert("The request to get user location timed out.");
                        break;
                    case error.UNKNOWN_ERROR:
                        alert("An unknown error occurred.");
                        break;
                }
            }

        </script>
        <!--<script src="./SocketClient.js"></script>-->
    </body>
</html>
